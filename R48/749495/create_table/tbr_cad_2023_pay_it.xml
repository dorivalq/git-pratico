<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
  <changeSet author="regiseduardogregol" id="1">
    <createTable tableName="TBR_CAD_2023_PAY_IT" remarks="Contém o cadastro das rubricas do eSocial.">
      <column name="IDT_PAYROLL_ITEM" remarks="Identificador único da Rubrica." type="NUMBER(22)">
        <constraints nullable="false"/>
      </column>
      <column name="IDT_EMPLR" remarks="Identificador do empregador" type="NUMBER(22)">
        <constraints nullable="false"/>
      </column>
      <column name="COD_PAYROLL_ITEM" remarks="Código da rubrica." type="VARCHAR2(30)">
        <constraints nullable="false"/>
      </column>
      <column name="COD_PAYROLL_TABLE" remarks="Código da Tabela da Rubrica" type="VARCHAR2(8)">
        <constraints nullable="false"/>
      </column>
      <column name="D_LAST_UPDATE_DATE" remarks="Data da última atualização. Campo utilizado pela framework de aplicação de regras de negócio de validação." type="DATE"/>
      <column name="S_CREATED_BY" remarks="Criado por. Campo utilizado pela framework de aplicação de regras de negócio de validação." type="VARCHAR2(250)"/>
      <column name="S_LAST_UPDATE_BY" remarks="Responsável pela última atualização. Campo utilizado pela framework de aplicação de regras de negócio de validação." type="VARCHAR2(250)"/>
      <column name="D_CREATION_DATE" remarks="Data da criação do registro. Campo utilizado pela framework de aplicação de regras de negócio de validação." type="DATE"/>
    </createTable>
    <rollback>
      <dropTable tableName="TBR_CAD_2023_PAY_IT"/>
    </rollback>
  </changeSet>
  <changeSet author="regiseduardogregol" id="2">
    <addUniqueConstraint columnNames="IDT_EMPLR, COD_PAYROLL_ITEM, COD_PAYROLL_TABLE" constraintName="UK_TBR_CAD_2023_PAY_IT_001" tableName="TBR_CAD_2023_PAY_IT"/>
  </changeSet>
  <changeSet author="regiseduardogregol" id="3">
    <addPrimaryKey columnNames="IDT_PAYROLL_ITEM" constraintName="PK_TBR_CAD_2023_PAY_IT" tableName="TBR_CAD_2023_PAY_IT"/>
  </changeSet>
  <changeSet author="regiseduardogregol" id="4">
    <addForeignKeyConstraint baseColumnNames="IDT_EMPLR" baseTableName="TBR_CAD_2023_PAY_IT" constraintName="FK_TBR_CAD_2023_PAY_IT_001" referencedColumnNames="IDT_EMPLR" referencedTableName="TBR_CAD_3016_EMPLR"/>
  </changeSet>
</databaseChangeLog>